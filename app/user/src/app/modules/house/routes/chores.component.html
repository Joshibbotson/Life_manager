<button
  class="cursor-pointer border-solid border-2 border-sky-500 rounded-md p-2 hover:bg-sky-700 hover:text-white"
  (click)="toggleShowForm()"
  *ngIf="!showForm"
>
  Create Chore
</button>
<button
  class="cursor-pointer border-solid border-2 border-red-700 rounded-md p-2 hover:bg-red-700 hover:text-white"
  (click)="toggleShowForm()"
  *ngIf="showForm"
>
  Cancel
</button>

<div class="container" *ngIf="showForm">
  <div
    class="shadow-lg flex flex-col w-96 p-4 rounded-md justify-center bg-white"
    [formGroup]="choreFormGroup"
  >
    <common-input
      formControlName="name"
      ngDefaultControl
      type="string"
      label="Name"
    ></common-input>
    <common-input
      formControlName="description"
      ngDefaultControl
      type="string"
      label="Description"
    ></common-input>
    <common-input
      formControlName="createdBy"
      ngDefaultControl
      type="string"
      label="Created by"
    ></common-input>
    <common-input
      formControlName="assignedTo"
      ngDefaultControl
      type="string"
      label="Assigned to"
    ></common-input>
    <common-checkbox
      formControlName="completed"
      ngDefaultControl
      label="Completed"
    ></common-checkbox>
    <button (click)="handleSubmit()">Submit</button>
  </div>
</div>

<div class="flex flex-col max-h-full">
  <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
    <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
      <div class="overflow-hidden">
        <table class="min-w-full text-left text-sm font-light">
          <thead class="border-b font-medium dark:border-neutral-500">
            <tr>
              <th scope="col" class="px-6 py-4">#</th>
              <th scope="col" class="px-6 py-4">Name</th>
              <th scope="col" class="px-6 py-4">Description</th>
              <th scope="col" class="px-6 py-4">Completed</th>
            </tr>
          </thead>
          <tbody class="">
            <ng-container *ngFor="let chore of chores$ | async">
              <tr
                class="z-10 border-b transition duration-300 ease-in-out hover:text-white hover:bg-neutral-100 dark:border-neutral-500 dark:hover:bg-neutral-600 cursor-pointer"
                (click)="navigate(chore.id)"
              >
                <td class="whitespace-nowrap px-6 py-4 font-medium">
                  {{ chore.id }}
                </td>
                <td class="whitespace-nowrap px-6 py-4">{{ chore.name }}</td>
                <td class="whitespace-nowrap px-6 py-4">
                  {{ chore.description }}
                </td>
                <td class="whitespace-nowrap px-6 py-4">
                  {{ chore.completed ? "Yes" : "No" }}
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
