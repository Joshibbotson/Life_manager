<!-- Make something a bit prettier than this. -->
@if (loading) {
  <div>loading . . .</div>
} @else {
  @if (todo$ | async; as todo) {
    <main
      class="w-full h-full flex items-center justify-center overflow-auto"
      [ngClass]="todo.completed ? 'bg-green-100' : 'bg-red-100'"
    >
      <section
        class="bg-white shadow-lg p-6 rounded-lg lg:w-1/3 md:w-2/3 sm:w-3/4"
      >
        <div class="flex items-center border-b-2 border-b-black py-3">
          <h1 class="text-lg font-semibold mr-2">Title:</h1>
          <div class="overflow-y-auto max-h-24">
            <p>{{ todo.title }}</p>
          </div>
        </div>
        <div class="flex items-center border-b-2 border-b-black py-3">
          <h1 class="text-lg font-semibold mr-2">Description</h1>

          <div class="overflow-y-auto max-h-24">
            <p>{{ todo.description }}</p>
          </div>
        </div>
        <div class="flex items-center border-b-2 border-b-black py-3">
          <h1 class="text-lg font-semibold mr-2">Assigned To:</h1>
          <div>
            <p>{{ todo.assignedTo.name }}</p>
          </div>
        </div>
        <div class="flex items-center border-b-2 border-b-black py-3">
          <h1 class="text-lg font-semibold mr-2">Created By:</h1>

          <div>
            <p>{{ todo.createdBy.name }}</p>
          </div>
        </div>
        <div class="flex items-center border-b-2 border-b-black py-3">
          <h1 class="text-lg font-semibold mr-2">Created Date:</h1>
          <div>
            <p>{{ todo.createdDate }}</p>
          </div>
        </div>
        <div class="flex items-center border-b-2 border-b-black py-3">
          <h1 class="text-lg font-semibold mr-2">Updated Date:</h1>

          <div>
            <p>{{ todo.updatedDate }}</p>
          </div>
        </div>
        <div class="flex items-center border-b-2 border-b-black py-3">
          <h1 class="text-lg font-semibold mr-2">Completed?</h1>

          <div>
            @if (todo.completed) {
              <fa-icon
                [icon]="faCheck"
                size="lg"
                class="text-green-600"
              ></fa-icon>
            } @else {
              -
            }
          </div>
        </div>

        <button
          (click)="deleteTodo(todo.id)"
          class="border-2 bg-slate-900 text-white p-1 hover:bg-red-700 active:scale-95 transition-all w-full"
        >
          delete todo
        </button>
        <button
          (click)="deleteTodo(todo.id)"
          class="border-2 bg-green-700 text-white p-1 hover:bg-green-600 active:scale-95 transition-all w-full"
        >
          complete todo
        </button>
      </section>
    </main>
  }
}
